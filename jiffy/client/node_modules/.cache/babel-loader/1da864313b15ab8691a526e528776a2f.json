{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kisus\\\\OneDrive\\\\Documents\\\\GitHub\\\\y2_s2_wd_it_01-itp2022_s2_b01_g04\\\\jiffy\\\\client\\\\src\\\\components\\\\auth\\\\LoginComponent.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LoginComponent = _ref => {\n  _s();\n\n  let {\n    history\n  } = _ref;\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  useEffect(() => {\n    if (localStorage.getItem(\"authToken\")) {\n      history.push(\"/\");\n    }\n  }, [history]);\n\n  const loginHandler = async e => {\n    e.preventDefault();\n    const config = {\n      header: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n\n    try {\n      const {\n        data\n      } = await axios.post(\"/api/auth/login\", {\n        email,\n        password\n      }, config);\n      localStorage.setItem(\"authToken\", data.token);\n      history.push(\"/\");\n    } catch (error) {\n      setError(error.response.data.error);\n      setTimeout(() => {\n        setError(\"\");\n      }, 5000);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ltn__login-area pb-65\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-title-area text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"section-title\",\n              children: [\"Sign In \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 67\n              }, this), \"To  Your Account\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 29\n            }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 39\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"account-login-inner\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: loginHandler,\n              className: \"ltn__form-box contact-form-box\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"email\",\n                placeholder: \"Email*\",\n                value: email,\n                onChange: e => setEmail(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                name: \"password\",\n                placeholder: \"Password*\",\n                value: password,\n                onChange: e => setPassword(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"btn-wrapper mt-0\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"theme-btn-1 btn btn-block\",\n                  type: \"submit\",\n                  children: \"SIGN IN\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"go-to-btn mt-20\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"#\",\n                  children: /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: \"FORGOTTEN YOUR PASSWORD?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 68,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"account-create text-center pt-50\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"DON'T HAVE AN ACCOUNT?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Add items to your wishlistget personalised recommendations \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 91\n              }, this), \"check out more quickly track your orders register\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"btn-wrapper\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/signup\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"register.html\",\n                  className: \"theme-btn-1 btn black-btn\",\n                  children: \"CREATE ACCOUNT\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 52\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n\n_s(LoginComponent, \"8U/OabU8FwTNvYwfZel/UK3ReX4=\");\n\n_c = LoginComponent;\nexport default LoginComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginComponent\");","map":{"version":3,"names":["React","useState","useEffect","axios","Link","LoginComponent","history","email","setEmail","password","setPassword","error","setError","localStorage","getItem","push","loginHandler","e","preventDefault","config","header","data","post","setItem","token","response","setTimeout","target","value"],"sources":["C:/Users/kisus/OneDrive/Documents/GitHub/y2_s2_wd_it_01-itp2022_s2_b01_g04/jiffy/client/src/components/auth/LoginComponent.js"],"sourcesContent":["import {React, useState, useEffect} from 'react';\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nconst LoginComponent = ({ history }) => {\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [error, setError] = useState(\"\");\n\n    useEffect(() => {\n        if (localStorage.getItem(\"authToken\")) {\n            history.push(\"/\");\n        }\n    }, [history]);\n\n    const loginHandler = async (e) => {\n        e.preventDefault();\n\n        const config = {\n            header: {\n                \"Content-Type\": \"application/json\",\n            },\n        };\n\n        try {\n            const { data } = await axios.post(\n                \"/api/auth/login\",\n                { email, password },\n                config\n            );\n\n            localStorage.setItem(\"authToken\", data.token);\n\n            history.push(\"/\");\n        } catch (error) {\n            setError(error.response.data.error);\n            setTimeout(() => {\n                setError(\"\");\n            }, 5000);\n        }\n    };\n\n    return (\n        <div className=\"ltn__login-area pb-65\">\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col-lg-12\">\n                        <div className=\"section-title-area text-center\">\n                            <h1 className=\"section-title\">Sign In <br />To  Your Account</h1>\n                            {error && <p>{error}</p>}\n                            {/* <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. <br />\n                                Sit aliquid,  Non distinctio vel iste.</p> */}\n                        </div>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-lg-6\">\n                        <div className=\"account-login-inner\">\n                            <form onSubmit={loginHandler} className=\"ltn__form-box contact-form-box\">\n                                <input type=\"text\" name=\"email\" placeholder=\"Email*\" \n                                value={email} onChange={(e)=>setEmail(e.target.value)}/>\n                                <input type=\"password\" name=\"password\" placeholder=\"Password*\" \n                                value={password} onChange={(e)=>setPassword(e.target.value)}/>\n                                <div className=\"btn-wrapper mt-0\">\n                                    <button className=\"theme-btn-1 btn btn-block\" type=\"submit\">SIGN IN</button>\n                                </div>\n                                <div className=\"go-to-btn mt-20\">\n                                    <a href=\"#\"><small>FORGOTTEN YOUR PASSWORD?</small></a>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                    <div className=\"col-lg-6\">\n                        <div className=\"account-create text-center pt-50\">\n                            <h4>DON'T HAVE AN ACCOUNT?</h4>\n                            <p>Add items to your wishlistget personalised recommendations <br />\n                                check out more quickly track your orders register</p>\n                            <div className=\"btn-wrapper\">\n                                <Link to=\"/signup\"><a href=\"register.html\" className=\"theme-btn-1 btn black-btn\">CREATE ACCOUNT</a></Link>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default LoginComponent;"],"mappings":";;;AAAA,SAAQA,KAAR,EAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;;;AAEA,MAAMC,cAAc,GAAG,QAAiB;EAAA;;EAAA,IAAhB;IAAEC;EAAF,CAAgB;EACpC,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;EAEAC,SAAS,CAAC,MAAM;IACZ,IAAIW,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAJ,EAAuC;MACnCR,OAAO,CAACS,IAAR,CAAa,GAAb;IACH;EACJ,CAJQ,EAIN,CAACT,OAAD,CAJM,CAAT;;EAMA,MAAMU,YAAY,GAAG,MAAOC,CAAP,IAAa;IAC9BA,CAAC,CAACC,cAAF;IAEA,MAAMC,MAAM,GAAG;MACXC,MAAM,EAAE;QACJ,gBAAgB;MADZ;IADG,CAAf;;IAMA,IAAI;MACA,MAAM;QAAEC;MAAF,IAAW,MAAMlB,KAAK,CAACmB,IAAN,CACnB,iBADmB,EAEnB;QAAEf,KAAF;QAASE;MAAT,CAFmB,EAGnBU,MAHmB,CAAvB;MAMAN,YAAY,CAACU,OAAb,CAAqB,WAArB,EAAkCF,IAAI,CAACG,KAAvC;MAEAlB,OAAO,CAACS,IAAR,CAAa,GAAb;IACH,CAVD,CAUE,OAAOJ,KAAP,EAAc;MACZC,QAAQ,CAACD,KAAK,CAACc,QAAN,CAAeJ,IAAf,CAAoBV,KAArB,CAAR;MACAe,UAAU,CAAC,MAAM;QACbd,QAAQ,CAAC,EAAD,CAAR;MACH,CAFS,EAEP,IAFO,CAAV;IAGH;EACJ,CAzBD;;EA2BA,oBACI;IAAK,SAAS,EAAC,uBAAf;IAAA,uBACI;MAAK,SAAS,EAAC,WAAf;MAAA,wBACI;QAAK,SAAS,EAAC,KAAf;QAAA,uBACI;UAAK,SAAS,EAAC,WAAf;UAAA,uBACI;YAAK,SAAS,EAAC,gCAAf;YAAA,wBACI;cAAI,SAAS,EAAC,eAAd;cAAA,oCAAsC;gBAAA;gBAAA;gBAAA;cAAA,QAAtC;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ,EAEKD,KAAK,iBAAI;cAAA,UAAIA;YAAJ;cAAA;cAAA;cAAA;YAAA,QAFd;UAAA;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QADJ,eAWI;QAAK,SAAS,EAAC,KAAf;QAAA,wBACI;UAAK,SAAS,EAAC,UAAf;UAAA,uBACI;YAAK,SAAS,EAAC,qBAAf;YAAA,uBACI;cAAM,QAAQ,EAAEK,YAAhB;cAA8B,SAAS,EAAC,gCAAxC;cAAA,wBACI;gBAAO,IAAI,EAAC,MAAZ;gBAAmB,IAAI,EAAC,OAAxB;gBAAgC,WAAW,EAAC,QAA5C;gBACA,KAAK,EAAET,KADP;gBACc,QAAQ,EAAGU,CAAD,IAAKT,QAAQ,CAACS,CAAC,CAACU,MAAF,CAASC,KAAV;cADrC;gBAAA;gBAAA;gBAAA;cAAA,QADJ,eAGI;gBAAO,IAAI,EAAC,UAAZ;gBAAuB,IAAI,EAAC,UAA5B;gBAAuC,WAAW,EAAC,WAAnD;gBACA,KAAK,EAAEnB,QADP;gBACiB,QAAQ,EAAGQ,CAAD,IAAKP,WAAW,CAACO,CAAC,CAACU,MAAF,CAASC,KAAV;cAD3C;gBAAA;gBAAA;gBAAA;cAAA,QAHJ,eAKI;gBAAK,SAAS,EAAC,kBAAf;gBAAA,uBACI;kBAAQ,SAAS,EAAC,2BAAlB;kBAA8C,IAAI,EAAC,QAAnD;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA;cADJ;gBAAA;gBAAA;gBAAA;cAAA,QALJ,eAQI;gBAAK,SAAS,EAAC,iBAAf;gBAAA,uBACI;kBAAG,IAAI,EAAC,GAAR;kBAAA,uBAAY;oBAAA;kBAAA;oBAAA;oBAAA;oBAAA;kBAAA;gBAAZ;kBAAA;kBAAA;kBAAA;gBAAA;cADJ;gBAAA;gBAAA;gBAAA;cAAA,QARJ;YAAA;cAAA;cAAA;cAAA;YAAA;UADJ;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QADJ,eAiBI;UAAK,SAAS,EAAC,UAAf;UAAA,uBACI;YAAK,SAAS,EAAC,kCAAf;YAAA,wBACI;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ,eAEI;cAAA,uFAA8D;gBAAA;gBAAA;gBAAA;cAAA,QAA9D;YAAA;cAAA;cAAA;cAAA;YAAA,QAFJ,eAII;cAAK,SAAS,EAAC,aAAf;cAAA,uBACI,QAAC,IAAD;gBAAM,EAAE,EAAC,SAAT;gBAAA,uBAAmB;kBAAG,IAAI,EAAC,eAAR;kBAAwB,SAAS,EAAC,2BAAlC;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA;cAAnB;gBAAA;gBAAA;gBAAA;cAAA;YADJ;cAAA;cAAA;cAAA;YAAA,QAJJ;UAAA;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QAjBJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAXJ;IAAA;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADJ;AA4CH,CAlFD;;GAAMvB,c;;KAAAA,c;AAoFN,eAAeA,cAAf"},"metadata":{},"sourceType":"module"}